const e=document.getElementById("search-form"),t=document.querySelector(".gallery");let n=1,a="",o=!1,s=!1;e.addEventListener("submit",(async e=>{e.preventDefault();const o=e.target.elements.searchQuery.value.trim();""!==o&&(a=o,n=1,t.innerHTML="",t.classList.add("empty"),await i())}));const c=new IntersectionObserver((async e=>{!e[0].isIntersecting||o||s||await i()}));async function i(){o=!0;const e=new URLSearchParams({key:"36866998-5308da28c55e509481910204f",q:a,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:40,page:n});try{const a=(await axios.get(`https://pixabay.com/api/?${e}`)).data;if(0===a.hits.length)return r("На жаль, немає зображень, що відповідають вашому пошуковому запиту. Будь ласка, спробуйте ще раз."),s=!0,void t.classList.remove("empty");if(1===n){l(`Hooray! We found ${a.totalHits} images.`)}a.hits.forEach((e=>{const n=function(e){const{webformatURL:t,largeImageURL:n,tags:a,likes:o,views:s,comments:c,downloads:i}=e,r=document.createElement("div");r.classList.add("photo-card");const l=document.createElement("img");l.src=t,l.alt=a,l.loading="lazy";const m=document.createElement("div");m.classList.add("info");const u=d("Likes",o),p=d("Views",s),f=d("Comments",c),h=d("Downloads",i);return m.append(u,p,f,h),r.append(l,m),l.addEventListener("click",(()=>{!function(e,t){const n=document.createElement("div");n.classList.add("modal");const a=document.createElement("div");a.classList.add("modal-content");const o=document.createElement("img");o.src=e,o.alt=t,a.appendChild(o),n.appendChild(a),document.body.appendChild(n),n.addEventListener("click",(()=>{document.body.removeChild(n)}))}(n,a)})),r}(e);t.appendChild(n)})),a.totalHits<=40*n?(s=!0,l("На жаль, ви досягли кінця результатів пошуку.")):(n++,c.observe(t.lastElementChild))}catch(e){console.error(e),r("Сталася помилка під час отримання зображень. Будь ласка, спробуйте ще раз пізніше.")}o=!1}function d(e,t){const n=document.createElement("p");return n.classList.add("info-item"),n.innerHTML=`<b>${e}: </b>${t}`,n}function r(e){Notiflix.Notify.Failure(e)}function l(e){Notiflix.Notify.Info(e)}
//# sourceMappingURL=index.5e7a24c8.js.map
