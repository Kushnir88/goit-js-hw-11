{"mappings":"AAAA,MAIMA,EAAaC,SAASC,eAAe,eACrCC,EAAUF,SAASG,cAAc,YACjCC,EAAcJ,SAASG,cAAc,cAE3C,IAAIE,EAAc,EACdC,EAAe,GAsBnBC,eAAeC,IACb,MAAMC,EAAS,IAAIC,gBAAgB,CACjCC,IAjCY,qCAkCZC,EAAGN,EACHO,WAAY,QACZC,YAAa,aACbC,YAAY,EACZC,SApCmB,GAqCnBC,KAAMZ,IAGR,IACE,MACMa,SADiBC,MAAMC,IAAI,4BAAeX,MAC1BS,KAEtB,GAAyB,IAArBA,EAAKG,KAAKC,OAEmE,YAD/EC,EAAiB,qGAInB,GAAoB,IAAhBlB,EAAmB,CAErBmB,EAAgB,oBADEN,EAAKO,oB,CAIzBP,EAAKG,KAAKK,SAASC,IACjB,MAAMC,EAkBZ,SAAyBD,GACvB,MAAME,aAAEA,EAAYC,cAAEA,EAAaC,KAAEA,EAAIC,MAAEA,EAAKC,MAAEA,EAAKC,SAAEA,EAAQC,UAAEA,GAAcR,EAE3EC,EAAY5B,SAASoC,cAAc,OACzCR,EAAUS,UAAUC,IAAI,cAExB,MAAMC,EAAMvC,SAASoC,cAAc,OACnCG,EAAIC,IAAMX,EACVU,EAAIE,IAAMV,EACVQ,EAAIG,QAAU,OAEd,MAAMC,EAAO3C,SAASoC,cAAc,OACpCO,EAAKN,UAAUC,IAAI,QAEnB,MAAMM,EAAYC,EAAe,QAAcb,GACzCc,EAAYD,EAAe,YAAsBZ,GACjDc,EAAeF,EAAe,YAAsBX,GACpDc,EAAgBH,EAAe,eAAgBV,GAUrD,OARAQ,EAAKM,OAAOL,EAAWE,EAAWC,EAAcC,GAEhDpB,EAAUqB,OAAOV,EAAKI,GAEtBJ,EAAIW,iBAAiB,SAAS,MAehC,SAAwBC,EAAUC,GAChC,MAAMC,EAAQrD,SAASoC,cAAc,OACrCiB,EAAMhB,UAAUC,IAAI,SAEpB,MAAMgB,EAAetD,SAASoC,cAAc,OAC5CkB,EAAajB,UAAUC,IAAI,iBAE3B,MAAMC,EAAMvC,SAASoC,cAAc,OACnCG,EAAIC,IAAMW,EACVZ,EAAIE,IAAMW,EAEVE,EAAaC,YAAYhB,GACzBc,EAAME,YAAYD,GAElBtD,SAASwD,KAAKD,YAAYF,GAE1BA,EAAMH,iBAAiB,SAAS,KAC9BlD,SAASwD,KAAKC,YAAYJ,EAAM,G,CA/BhCK,CAAe5B,EAAeC,EAAK,IAG9BH,C,CA7Ce+B,CAAgBhC,GAClCzB,EAAQqD,YAAY3B,EAAU,IAG5BV,EAAKO,WA3DU,GA2DGpB,GACpBD,EAAYwD,MAAMC,QAAU,OAC5BrC,EAAgB,kDAEhBpB,EAAYiC,UAAUC,IAAI,QAG5BjC,G,CACA,MAAOyD,GACPC,QAAQD,MAAMA,GACdvC,EAAiB,wF,EAkCrB,SAASsB,EAAemB,EAAOC,GAC7B,MAAMC,EAAWlE,SAASoC,cAAc,KAIxC,OAHA8B,EAAS7B,UAAUC,IAAI,aACvB4B,EAASC,UAAY,MAAMH,UAAcC,IAElCC,C,CAwBT,SAAS3C,EAAiB6C,GACxBC,SAASC,OAAOC,QAAQH,E,CAG1B,SAAS5C,EAAgB4C,GACvBC,SAASC,OAAOE,KAAKJ,E,CAhIvBrE,EAAWmD,iBAAiB,UAAU3C,MAAOkE,IAC3CA,EAAEC,iBACF,MAAMC,EAAcF,EAAEG,OAAOC,SAASF,YAAYV,MAAMa,OAEpC,KAAhBH,IAIJrE,EAAeqE,EACftE,EAAc,EACdH,EAAQiE,UAAY,GACpB/D,EAAYiC,UAAU0C,OAAO,cAEvBvE,IAAa,IAGrBJ,EAAY8C,iBAAiB,SAAS3C,gBAC9BC,GAAa","sources":["src/index.js"],"sourcesContent":["const API_KEY = '36866998-5308da28c55e509481910204f';\nconst BASE_URL = 'https://pixabay.com/api/';\nconst ITEMS_PER_PAGE = 40;\n\nconst searchForm = document.getElementById('search-form');\nconst gallery = document.querySelector('.gallery');\nconst loadMoreBtn = document.querySelector('.load-more');\n\nlet currentPage = 1;\nlet currentQuery = '';\n\nsearchForm.addEventListener('submit', async (e) => {\n  e.preventDefault();\n  const searchQuery = e.target.elements.searchQuery.value.trim();\n\n  if (searchQuery === '') {\n    return;\n  }\n\n  currentQuery = searchQuery;\n  currentPage = 1;\n  gallery.innerHTML = '';\n  loadMoreBtn.classList.remove('show');\n\n  await fetchImages();\n});\n\nloadMoreBtn.addEventListener('click', async () => {\n  await fetchImages();\n});\n\nasync function fetchImages() {\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: currentQuery,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    per_page: ITEMS_PER_PAGE,\n    page: currentPage,\n  });\n\n  try {\n    const response = await axios.get(`${BASE_URL}?${params}`);\n    const data = response.data;\n\n    if (data.hits.length === 0) {\n      showErrorMessage('На жаль, немає зображень, що відповідають вашому пошуковому запиту. Будь ласка, спробуйте ще раз.');\n      return;\n    }\n\n    if (currentPage === 1) {\n      const totalHits = data.totalHits;\n      showInfoMessage(`Hooray! We found ${totalHits} images.`);\n    }\n\n    data.hits.forEach((image) => {\n      const photoCard = createPhotoCard(image);\n      gallery.appendChild(photoCard);\n    });\n\n    if (data.totalHits <= currentPage * ITEMS_PER_PAGE) {\n      loadMoreBtn.style.display = 'none';\n      showInfoMessage('На жаль, ви досягли кінця результатів пошуку.');\n    } else {\n      loadMoreBtn.classList.add('show');\n    }\n\n    currentPage++;\n  } catch (error) {\n    console.error(error);\n    showErrorMessage('Виникла помилка під час завантаження зображень. Будь ласка, спробуйте ще раз пізніше.');\n  }\n}\n\nfunction createPhotoCard(image) {\n  const { webformatURL, largeImageURL, tags, likes, views, comments, downloads } = image;\n\n  const photoCard = document.createElement('div');\n  photoCard.classList.add('photo-card');\n\n  const img = document.createElement('img');\n  img.src = webformatURL;\n  img.alt = tags;\n  img.loading = 'lazy';\n\n  const info = document.createElement('div');\n  info.classList.add('info');\n\n  const likesInfo = createInfoItem('Лайки', likes);\n  const viewsInfo = createInfoItem('Перегляди', views);\n  const commentsInfo = createInfoItem('Коментарі', comments);\n  const downloadsInfo = createInfoItem('Завантаження', downloads);\n\n  info.append(likesInfo, viewsInfo, commentsInfo, downloadsInfo);\n\n  photoCard.append(img, info);\n\n  img.addEventListener('click', () => {\n    openImageModal(largeImageURL, tags);\n  });\n\n  return photoCard;\n}\n\nfunction createInfoItem(label, value) {\n  const infoItem = document.createElement('p');\n  infoItem.classList.add('info-item');\n  infoItem.innerHTML = `<b>${label}: </b>${value}`;\n\n  return infoItem;\n}\n\nfunction openImageModal(imageUrl, altText) {\n  const modal = document.createElement('div');\n  modal.classList.add('modal');\n\n  const modalContent = document.createElement('div');\n  modalContent.classList.add('modal-content');\n\n  const img = document.createElement('img');\n  img.src = imageUrl;\n  img.alt = altText;\n\n  modalContent.appendChild(img);\n  modal.appendChild(modalContent);\n\n  document.body.appendChild(modal);\n\n  modal.addEventListener('click', () => {\n    document.body.removeChild(modal);\n  });\n}\n\nfunction showErrorMessage(message) {\n  Notiflix.Notify.Failure(message);\n}\n\nfunction showInfoMessage(message) {\n  Notiflix.Notify.Info(message);\n}\n"],"names":["$1f0dc3b9307be026$var$searchForm","document","getElementById","$1f0dc3b9307be026$var$gallery","querySelector","$1f0dc3b9307be026$var$loadMoreBtn","$1f0dc3b9307be026$var$currentPage","$1f0dc3b9307be026$var$currentQuery","async","$1f0dc3b9307be026$var$fetchImages","params","URLSearchParams","key","q","image_type","orientation","safesearch","per_page","page","data","axios","get","hits","length","$1f0dc3b9307be026$var$showErrorMessage","$1f0dc3b9307be026$var$showInfoMessage","totalHits","forEach","image","photoCard","webformatURL","largeImageURL","tags","likes","views","comments","downloads","createElement","classList","add","img","src","alt","loading","info","likesInfo","$1f0dc3b9307be026$var$createInfoItem","viewsInfo","commentsInfo","downloadsInfo","append","addEventListener","imageUrl","altText","modal","modalContent","appendChild","body","removeChild","$1f0dc3b9307be026$var$openImageModal","$1f0dc3b9307be026$var$createPhotoCard","style","display","error","console","label","value","infoItem","innerHTML","message","Notiflix","Notify","Failure","Info","e","preventDefault","searchQuery","target","elements","trim","remove"],"version":3,"file":"index.9b00385c.js.map"}