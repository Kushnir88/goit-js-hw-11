{"mappings":"AAAA,MAIMA,EAAaC,SAASC,eAAe,eACrCC,EAAUF,SAASG,cAAc,YACjCC,EAAcJ,SAASG,cAAc,cAE3C,IAAIE,EAAc,EACdC,EAAe,GAsBnBC,eAAeC,IACb,MAAMC,EAAS,IAAIC,gBAAgB,CACjCC,IAjCY,qCAkCZC,EAAGN,EACHO,WAAY,QACZC,YAAa,aACbC,YAAY,EACZC,SApCmB,GAqCnBC,KAAMZ,IAGR,IACE,MACMa,SADiBC,MAAMC,IAAI,4BAAeX,MAC1BS,KAEtB,GAAyB,IAArBA,EAAKG,KAAKC,OAEZ,YADAC,EAAiB,4EAInBL,EAAKG,KAAKG,SAASC,IACjB,MAAMC,EAkBZ,SAAyBD,GACvB,MAAME,aAAEA,EAAYC,cAAEA,EAAaC,KAAEA,EAAIC,MAAEA,EAAKC,MAAEA,EAAKC,SAAEA,EAAQC,UAAEA,GAAcR,EAE3EC,EAAY1B,SAASkC,cAAc,OACzCR,EAAUS,UAAUC,IAAI,cAExB,MAAMC,EAAMrC,SAASkC,cAAc,OACnCG,EAAIC,IAAMX,EACVU,EAAIE,IAAMV,EACVQ,EAAIG,QAAU,OAEd,MAAMC,EAAOzC,SAASkC,cAAc,OACpCO,EAAKN,UAAUC,IAAI,QAEnB,MAAMM,EAAYC,EAAe,QAASb,GACpCc,EAAYD,EAAe,QAASZ,GACpCc,EAAeF,EAAe,WAAYX,GAC1Cc,EAAgBH,EAAe,YAAaV,GAUlD,OARAQ,EAAKM,OAAOL,EAAWE,EAAWC,EAAcC,GAEhDpB,EAAUqB,OAAOV,EAAKI,GAEtBJ,EAAIW,iBAAiB,SAAS,KAehC,IAAwBC,EAAUC,EAAVD,EAdLrB,EAcesB,EAdArB,EAgBhCsB,QAAQC,IAAI,oBAAqBH,EAAUC,EAhBN,IAG9BxB,C,CA7Ce2B,CAAgB5B,GAClCvB,EAAQoD,YAAY5B,EAAU,IAG5BR,EAAKqC,WAtDU,GAsDGlD,GACpBD,EAAYoD,MAAMC,QAAU,OA4DTC,EA3DH,6DA4DpBC,SAASC,OAAOC,KAAKH,IA1DjBtD,EAAY+B,UAAUC,IAAI,QAG5B/B,G,CACA,MAAOyD,GACPX,QAAQW,MAAMA,GACdvC,EAAiB,mE,CAmDrB,IAAyBmC,C,CAjBzB,SAASf,EAAeoB,EAAOC,GAC7B,MAAMC,EAAWjE,SAASkC,cAAc,KAIxC,OAHA+B,EAAS9B,UAAUC,IAAI,aACvB6B,EAASC,UAAY,MAAMH,UAAcC,IAElCC,C,CAQT,SAAS1C,EAAiBmC,GACxBC,SAASC,OAAOO,QAAQT,E,CAvG1B3D,EAAWiD,iBAAiB,UAAUzC,MAAO6D,IAC3CA,EAAEC,iBACF,MAAMC,EAAcF,EAAEG,OAAOC,SAASF,YAAYN,MAAMS,OAEpC,KAAhBH,IAIJhE,EAAegE,EACfjE,EAAc,EACdH,EAAQgE,UAAY,GACpB9D,EAAY+B,UAAUuC,OAAO,cAEvBlE,IAAa,IAGrBJ,EAAY4C,iBAAiB,SAASzC,gBAC9BC,GAAa","sources":["src/index.js"],"sourcesContent":["const API_KEY = '36866998-5308da28c55e509481910204f';\nconst BASE_URL = 'https://pixabay.com/api/';\nconst ITEMS_PER_PAGE = 40;\n\nconst searchForm = document.getElementById('search-form');\nconst gallery = document.querySelector('.gallery');\nconst loadMoreBtn = document.querySelector('.load-more');\n\nlet currentPage = 1;\nlet currentQuery = '';\n\nsearchForm.addEventListener('submit', async (e) => {\n  e.preventDefault();\n  const searchQuery = e.target.elements.searchQuery.value.trim();\n\n  if (searchQuery === '') {\n    return;\n  }\n\n  currentQuery = searchQuery;\n  currentPage = 1;\n  gallery.innerHTML = '';\n  loadMoreBtn.classList.remove('show');\n\n  await fetchImages();\n});\n\nloadMoreBtn.addEventListener('click', async () => {\n  await fetchImages();\n});\n\nasync function fetchImages() {\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: currentQuery,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    per_page: ITEMS_PER_PAGE,\n    page: currentPage,\n  });\n\n  try {\n    const response = await axios.get(`${BASE_URL}?${params}`);\n    const data = response.data;\n\n    if (data.hits.length === 0) {\n      showErrorMessage('Sorry, there are no images matching your search query. Please try again.');\n      return;\n    }\n\n    data.hits.forEach((image) => {\n      const photoCard = createPhotoCard(image);\n      gallery.appendChild(photoCard);\n    });\n\n    if (data.totalHits <= currentPage * ITEMS_PER_PAGE) {\n      loadMoreBtn.style.display = 'none';\n      showInfoMessage(\"We're sorry, but you've reached the end of search results.\");\n    } else {\n      loadMoreBtn.classList.add('show');\n    }\n\n    currentPage++;\n  } catch (error) {\n    console.error(error);\n    showErrorMessage('An error occurred while fetching images. Please try again later.');\n  }\n}\n\nfunction createPhotoCard(image) {\n  const { webformatURL, largeImageURL, tags, likes, views, comments, downloads } = image;\n\n  const photoCard = document.createElement('div');\n  photoCard.classList.add('photo-card');\n\n  const img = document.createElement('img');\n  img.src = webformatURL;\n  img.alt = tags;\n  img.loading = 'lazy';\n\n  const info = document.createElement('div');\n  info.classList.add('info');\n\n  const likesInfo = createInfoItem('Likes', likes);\n  const viewsInfo = createInfoItem('Views', views);\n  const commentsInfo = createInfoItem('Comments', comments);\n  const downloadsInfo = createInfoItem('Downloads', downloads);\n\n  info.append(likesInfo, viewsInfo, commentsInfo, downloadsInfo);\n\n  photoCard.append(img, info);\n\n  img.addEventListener('click', () => {\n    openImageModal(largeImageURL, tags);\n  });\n\n  return photoCard;\n}\n\nfunction createInfoItem(label, value) {\n  const infoItem = document.createElement('p');\n  infoItem.classList.add('info-item');\n  infoItem.innerHTML = `<b>${label}: </b>${value}`;\n\n  return infoItem;\n}\n\nfunction openImageModal(imageUrl, altText) {\n  // Implement your image modal logic here\n  console.log('Open image modal:', imageUrl, altText);\n}\n\nfunction showErrorMessage(message) {\n  notiflix.Notify.Failure(message);\n}\n\nfunction showInfoMessage(message) {\n  notiflix.Notify.Info(message);\n}\n"],"names":["$1f0dc3b9307be026$var$searchForm","document","getElementById","$1f0dc3b9307be026$var$gallery","querySelector","$1f0dc3b9307be026$var$loadMoreBtn","$1f0dc3b9307be026$var$currentPage","$1f0dc3b9307be026$var$currentQuery","async","$1f0dc3b9307be026$var$fetchImages","params","URLSearchParams","key","q","image_type","orientation","safesearch","per_page","page","data","axios","get","hits","length","$1f0dc3b9307be026$var$showErrorMessage","forEach","image","photoCard","webformatURL","largeImageURL","tags","likes","views","comments","downloads","createElement","classList","add","img","src","alt","loading","info","likesInfo","$1f0dc3b9307be026$var$createInfoItem","viewsInfo","commentsInfo","downloadsInfo","append","addEventListener","imageUrl","altText","console","log","$1f0dc3b9307be026$var$createPhotoCard","appendChild","totalHits","style","display","message","notiflix","Notify","Info","error","label","value","infoItem","innerHTML","Failure","e","preventDefault","searchQuery","target","elements","trim","remove"],"version":3,"file":"index.83f5c3fa.js.map"}